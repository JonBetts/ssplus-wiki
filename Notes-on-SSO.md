In the ssplus codebase, we have a file called _samlKeystore.jks_ that holds the certificate/public-private key pair we use for SSL handshaking and validation of SAML signatures. The Spring SAML module uses this automatically when SSO requests are made in the app by a user. Each of our clients that use our SSO functionality, sent us their public key during setup.

I don't think these key pairs need to be added to the Java runtime keystore, but if they do, it can be found on servers at _$JAVA_HOME/lib/security/cacerts_. Depending on the format that the public key is in, you will need to find a way to do this import manually. [This](https://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html) url gives a good list of commands that you can run to manipulate keystore files, etc. [This](https://cinhtau.net/2016/03/11/copy-contents-of-java-keystore-to-another-keystore/) link has a command that will copy from one keystore to another. Add _-srcalias_ and _-destalias_ arguments in order to only export one key at a time. I won't give specific commands because they'll probably change slightly over time, but the main thing to remember is that the client's public key needs to be added to the Java runtime keystore somehow when setting up a new site for a client with this functionality.

In order to setup a new client with SSO, they just need our public key/metadata file, which you can find on any of our sites - login and then add `/saml/metadata` to the URL in the address bar and it should download an XML file containing it. Be aware that if you're sending them the key for QAT/UAT then you would need to go to a running QAT/UAT instance as they all differ slightly in the details they hold.

You will also need to upgrade the security policy files ("Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files") on the Java virtual machine running on the target server. This can be done by downloading said files from Oracle's website (e.g. for Java 8 - [https://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html|https://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html] and then copying them to the JRE lib security folder (e.g. {{/usr/lib/jvm/java-1.8.0/jre/lib/security}}), whilst backing up the files of the same name that already exist in that folder.